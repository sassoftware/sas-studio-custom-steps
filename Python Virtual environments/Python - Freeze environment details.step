{"creationTimeStamp":"2022-06-15T12:29:11.462Z","modifiedTimeStamp":"2022-06-15T12:36:22.486Z","createdBy":"sinsrn","modifiedBy":"sinsrn","name":"Python - Freeze environment details.step","displayName":"Python - Freeze environment details.step","localDisplayName":"Python - Freeze environment details.step","properties":{},"links":[{"method":"GET","rel":"self","href":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422","uri":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422","type":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"alternate","href":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422","uri":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422","type":"application/vnd.sas.data.flow.step.summary"},{"method":"GET","rel":"up","href":"/dataFlows/steps","uri":"/dataFlows/steps","type":"application/vnd.sas.collection","itemType":"application/vnd.sas.data.flow.step.summary"},{"method":"PUT","rel":"update","href":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422","uri":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422","type":"application/vnd.sas.data.flow.step","responseType":"application/vnd.sas.data.flow.step"},{"method":"DELETE","rel":"delete","href":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422","uri":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422"},{"method":"GET","rel":"transferExport","href":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422","uri":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422","responseType":"application/vnd.sas.transfer.object"},{"method":"PUT","rel":"transferImportUpdate","href":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422","uri":"/dataFlows/steps/77ab8e67-463f-4b4d-9b7e-2a116dc46422","type":"application/vnd.sas.transfer.object","responseType":"application/vnd.sas.summary"}],"metadataVersion":0.0,"version":2,"type":"code","flowMetadata":{"inputPorts":[],"outputPorts":[]},"ui":"{\n\t\"showPageContentOnly\": true,\n\t\"pages\": [\n\t\t{\n\t\t\t\"id\": \"page2\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"Parameters\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"req\",\n\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\"label\": \"Provide desired location of requirements.txt\",\n\t\t\t\t\t\"placeholder\": \"e.g. path/to/requirement/file\",\n\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"page1\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"About\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"text1\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"Python - Freeze environment details\\n\\nThe \\\"Python - Freeze environment details\\\" custom step helps users obtain a requirements.txt file which captures all packages and versions currently installed in a Python environment.\\n\\nProvide the location and name of a requirements.txt file. Once this requirements.txt is obtained, it can be used as the input for a fresh virtual environment by others, or in another SAS Viya installation with Python.\\n\\nCreated / contact : Sundaresh Sankaran (sundaresh.sankaran@sas.com) and Ali Aiello (ali.aiello@sas.com) \\n\\nVersion : 1.1.   Created: May 20 2022\\nModified: Jun 15 2022\\n\\nFor more details, refer https://blogs.sas.com/content/subconsciousmusings/2022/05/16/python-a-la-carte/\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"syntaxversion\": \"1.3.0\",\n\t\"values\": {\n\t\t\"req\": \"\"\n\t}\n}","templates":{"SAS":"/* SAS templated code goes here */\n\nproc python;\n\nsubmit;\n\nimport os\n\nreq=SAS.symget(\"req\")\npyt=SAS.symget(\"TEMP_PYTH\")\n\nos.system(\"{pyt} -m pip freeze > {req}\".format(pyt=pyt,req=req))\n\nprint(\"Requirements file saved at {req}\".format(req=req))\n\nendsubmit;\n\nquit;"}}