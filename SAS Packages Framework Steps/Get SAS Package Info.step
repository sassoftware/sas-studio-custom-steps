{"creationTimeStamp":"2026-02-03T01:31:22.261043Z","createdBy":"Stu.Sztukowski@sas.com","modifiedTimeStamp":"2026-02-03T18:26:56.266575Z","modifiedBy":"Stu.Sztukowski@sas.com","id":"eef3a45c-80b5-4e79-901b-d41e4b7278a6","name":"Get SAS Package Info.step","displayName":"Get SAS Package Info.step","localDisplayName":"Get SAS Package Info.step","links":[{"method":"GET","rel":"self","href":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6","uri":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6","type":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"alternate","href":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6","uri":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6","type":"application/vnd.sas.data.flow.step.summary"},{"method":"GET","rel":"up","href":"/dataFlows/steps","uri":"/dataFlows/steps","type":"application/vnd.sas.collection","itemType":"application/vnd.sas.data.flow.step.summary"},{"method":"PUT","rel":"update","href":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6","uri":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6","type":"application/vnd.sas.data.flow.step","responseType":"application/vnd.sas.data.flow.step"},{"method":"DELETE","rel":"delete","href":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6","uri":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6"},{"method":"POST","rel":"copy","href":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6/copy","uri":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6/copy","responseType":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"transferExport","href":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6","uri":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6","responseType":"application/vnd.sas.transfer.object"},{"method":"PUT","rel":"transferImportUpdate","href":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6","uri":"/dataFlows/steps/eef3a45c-80b5-4e79-901b-d41e4b7278a6","type":"application/vnd.sas.transfer.object","responseType":"application/vnd.sas.summary"}],"metadataVersion":1,"version":2,"type":"code","flowMetadata":{},"ui":"{\n\t\"showPageContentOnly\": true,\n\t\"pages\": [\n\t\t{\n\t\t\t\"id\": \"package_info\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"Package Info\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"spf_package_info_option\",\n\t\t\t\t\t\"type\": \"radiogroup\",\n\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"value\": \"Help\",\n\t\t\t\t\t\t\t\"label\": \"Display help for a package\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"value\": \"Preview\",\n\t\t\t\t\t\t\t\"label\": \"Preview a package\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"value\": \"List\",\n\t\t\t\t\t\t\t\"label\": \"List all packages in PACKAGES fileref\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"spf_package\",\n\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\"label\": \"Enter package name\",\n\t\t\t\t\t\"regexp\": \"\",\n\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\"$spf_package_info_option\",\n\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\"Help\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\t\"|\",\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\"$spf_package_info_option\",\n\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\"Preview\"\n\t\t\t\t\t\t]\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"spf_info_keyword\",\n\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\"label\": \"(Optional) keyword to search\",\n\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\"$spf_package_info_option\",\n\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\"Help\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\t\"|\",\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\"$spf_package_info_option\",\n\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\"Preview\"\n\t\t\t\t\t\t]\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"spf_result_ds\",\n\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\"label\": \"Generate a result dataset in the WORK directory\",\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\"$spf_package_info_option\",\n\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\"Help\"\n\t\t\t\t\t\t],\n\t\t\t\t\t\t\"|\",\n\t\t\t\t\t\t[\n\t\t\t\t\t\t\t\"$spf_package_info_option\",\n\t\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\t\"List\"\n\t\t\t\t\t\t]\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"text2\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"ℹ️ Includes package contents\",\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$spf_package_info_option\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"Help\"\n\t\t\t\t\t],\n\t\t\t\t\t\"indent\": 1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"text3\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"ℹ️ Includes a list of SAS packages in the PACKAGES fileref\\n\",\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$spf_package_info_option\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"List\"\n\t\t\t\t\t],\n\t\t\t\t\t\"indent\": 1\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"spf_info_output_type\",\n\t\t\t\t\t\"type\": \"radiogroup\",\n\t\t\t\t\t\"label\": \"Output location\",\n\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"value\": \"Results window\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"value\": \"Log\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t}\n\t\t\t]\n\t\t},\n\t\t{\n\t\t\t\"id\": \"help\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"Help\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"text1\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"This step returns information about a SAS package or the SAS packages currently available in the PACKAGES fileref. Results are printed to the Results window or can be optionally redirected to the log.\\n\\nℹ️ The SAS Packages Framework must be initialized before running this step. This step is supported if the SAS Packages Framework is initialized with code.\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"section1\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Display help for a SAS package\",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text4\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Displays built-in help information about a package provided by the developer.\\n\\nℹ️ Packages stored in SAS Content are copied to the WORK directory before displaying help. If the checksum of the package in SAS Content is different from the checksum of the package in WORK, or if the package is not in WORK, the package is copied automatically.\\n\\nYou can optionally type in a keyword to search and filter. For example, \\\"license\\\" will print the license, while \\\"*\\\" will print all help.\\n\\nGenerating a result dataset will create a dataset in WORK named PACKAGENAME_CONTENT that contains information about the package content.\\n\\nThe following options correspond to each parameter of %helpPackage:\\n\\n• Keyword to search: helpKeyword\\n• Generate a result dataset in the WORK directory: packageContentDS\\n\\nFor more information about these options, see SAS Package Framework documentation:\\nhttps://github.com/yabwon/SAS_PACKAGES/blob/main/SPF/SPFinit.md#helppackage\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"section2\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Preview a SAS package\",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text5\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"Displays built-in help information about a package provided by the developer.\\n\\nℹ️ Packages stored in SAS Content are copied to the WORK directory before previewing. If the checksum of the package in SAS Content is different from the checksum of the package in WORK, or if the package is not in WORK, the package is copied automatically.\\n\\nYou can optionally type in a keyword to search and filter. For example, \\\"license\\\" will print the license, while \\\"*\\\" will print all help.\\n\\nThe available option for Preview corresponds to the below argument in %previewPackage:\\n\\n• Keyword to search: helpKeyword\\n\\nFor more information about this option, see SAS Package Framework documentation:\\nhttps://github.com/yabwon/SAS_PACKAGES/blob/main/SPF/SPFinit.md#previewPackage\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"section3\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"List all packages in the PACKAGES fileref\",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"text6\",\n\t\t\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\t\t\"text\": \"This option lists all packages available in the PACKAGES fileref, including additional information about each package. \\n\\n⚠️ Packages stored in SAS Content are not supported. The PACKAGES fileref always points to a physical location. If you have initialized the SAS Packages Framework with the Initialize step and chose to store packages in SAS Content, the packages listed by this step are only those currently in the WORK directory.\\n\\nGenerating a result dataset creates a dataset in WORK named SPF_PACKAGE_LIST that contains a list of packages in the PACKAGES fileref.\\n\\nThe available option for List corresponds to the below argument in %listPackages:\\n\\n• Generate a result dataset in the WORK directory: listDataSet\",\n\t\t\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"syntaxversion\": \"1.3.0\",\n\t\"values\": {\n\t\t\"spf_package_info_option\": {\n\t\t\t\"value\": \"Help\",\n\t\t\t\"label\": \"Display help for a package\"\n\t\t},\n\t\t\"spf_package\": \"\",\n\t\t\"spf_info_keyword\": \"\",\n\t\t\"spf_result_ds\": false,\n\t\t\"spf_info_output_type\": {\n\t\t\t\"value\": \"Results window\"\n\t\t}\n\t},\n\t\"promptHierarchies\": []\n}","localUi":"{\"pages\":[{\"children\":[{\"id\":\"spf_package_info_option\",\"items\":[{\"label\":\"Display help for a package\",\"value\":\"Help\"},{\"label\":\"Preview a package\",\"value\":\"Preview\"},{\"label\":\"List all packages in PACKAGES fileref\",\"value\":\"List\"}],\"label\":\"\",\"type\":\"radiogroup\",\"visible\":\"\"},{\"id\":\"spf_package\",\"label\":\"Enter package name\",\"placeholder\":\"\",\"regexp\":\"\",\"required\":true,\"type\":\"textfield\",\"visible\":[[\"$spf_package_info_option\",\"=\",\"Help\"],\"|\",[\"$spf_package_info_option\",\"=\",\"Preview\"]]},{\"id\":\"spf_info_keyword\",\"label\":\"(Optional) keyword to search\",\"placeholder\":\"\",\"required\":false,\"type\":\"textfield\",\"visible\":[[\"$spf_package_info_option\",\"=\",\"Help\"],\"|\",[\"$spf_package_info_option\",\"=\",\"Preview\"]]},{\"id\":\"spf_result_ds\",\"label\":\"Generate a result dataset in the WORK directory\",\"type\":\"checkbox\",\"visible\":[[\"$spf_package_info_option\",\"=\",\"Help\"],\"|\",[\"$spf_package_info_option\",\"=\",\"List\"]]},{\"id\":\"text2\",\"indent\":1,\"text\":\"ℹ️ Includes package contents\",\"type\":\"text\",\"visible\":[\"$spf_package_info_option\",\"=\",\"Help\"]},{\"id\":\"text3\",\"indent\":1,\"text\":\"ℹ️ Includes a list of SAS packages in the PACKAGES fileref\\n\",\"type\":\"text\",\"visible\":[\"$spf_package_info_option\",\"=\",\"List\"]},{\"id\":\"spf_info_output_type\",\"items\":[{\"value\":\"Results window\"},{\"value\":\"Log\"}],\"label\":\"Output location\",\"type\":\"radiogroup\",\"visible\":\"\"}],\"id\":\"package_info\",\"label\":\"Package Info\",\"type\":\"page\"},{\"children\":[{\"id\":\"text1\",\"text\":\"This step returns information about a SAS package or the SAS packages currently available in the PACKAGES fileref. Results are printed to the Results window or can be optionally redirected to the log.\\n\\nℹ️ The SAS Packages Framework must be initialized before running this step. This step is supported if the SAS Packages Framework is initialized with code.\",\"type\":\"text\",\"visible\":\"\"},{\"children\":[{\"id\":\"text4\",\"text\":\"Displays built-in help information about a package provided by the developer.\\n\\nℹ️ Packages stored in SAS Content are copied to the WORK directory before displaying help. If the checksum of the package in SAS Content is different from the checksum of the package in WORK, or if the package is not in WORK, the package is copied automatically.\\n\\nYou can optionally type in a keyword to search and filter. For example, \\\"license\\\" will print the license, while \\\"*\\\" will print all help.\\n\\nGenerating a result dataset will create a dataset in WORK named PACKAGENAME_CONTENT that contains information about the package content.\\n\\nThe following options correspond to each parameter of %helpPackage:\\n\\n• Keyword to search: helpKeyword\\n• Generate a result dataset in the WORK directory: packageContentDS\\n\\nFor more information about these options, see SAS Package Framework documentation:\\nhttps://github.com/yabwon/SAS_PACKAGES/blob/main/SPF/SPFinit.md#helppackage\",\"type\":\"text\",\"visible\":\"\"}],\"id\":\"section1\",\"label\":\"Display help for a SAS package\",\"open\":false,\"type\":\"section\",\"visible\":\"\"},{\"children\":[{\"id\":\"text5\",\"text\":\"Displays built-in help information about a package provided by the developer.\\n\\nℹ️ Packages stored in SAS Content are copied to the WORK directory before previewing. If the checksum of the package in SAS Content is different from the checksum of the package in WORK, or if the package is not in WORK, the package is copied automatically.\\n\\nYou can optionally type in a keyword to search and filter. For example, \\\"license\\\" will print the license, while \\\"*\\\" will print all help.\\n\\nThe available option for Preview corresponds to the below argument in %previewPackage:\\n\\n• Keyword to search: helpKeyword\\n\\nFor more information about this option, see SAS Package Framework documentation:\\nhttps://github.com/yabwon/SAS_PACKAGES/blob/main/SPF/SPFinit.md#previewPackage\",\"type\":\"text\",\"visible\":\"\"}],\"id\":\"section2\",\"label\":\"Preview a SAS package\",\"open\":false,\"type\":\"section\",\"visible\":\"\"},{\"children\":[{\"id\":\"text6\",\"text\":\"This option lists all packages available in the PACKAGES fileref, including additional information about each package. \\n\\n⚠️ Packages stored in SAS Content are not supported. The PACKAGES fileref always points to a physical location. If you have initialized the SAS Packages Framework with the Initialize step and chose to store packages in SAS Content, the packages listed by this step are only those currently in the WORK directory.\\n\\nGenerating a result dataset creates a dataset in WORK named SPF_PACKAGE_LIST that contains a list of packages in the PACKAGES fileref.\\n\\nThe available option for List corresponds to the below argument in %listPackages:\\n\\n• Generate a result dataset in the WORK directory: listDataSet\",\"type\":\"text\",\"visible\":\"\"}],\"id\":\"section3\",\"label\":\"List all packages in the PACKAGES fileref\",\"open\":false,\"type\":\"section\",\"visible\":\"\"}],\"id\":\"help\",\"label\":\"Help\",\"type\":\"page\"}],\"promptHierarchies\":[],\"showPageContentOnly\":true,\"syntaxversion\":\"1.3.0\",\"values\":{\"spf_info_keyword\":\"\",\"spf_info_output_type\":{\"value\":\"Results window\"},\"spf_package\":\"\",\"spf_package_info_option\":{\"label\":\"Display help for a package\",\"value\":\"Help\"},\"spf_result_ds\":false}}","templates":{"SAS":"/* Program based on SAS KB 51626: How to write the contents of the SAS log or other text output to an HTML, RTF, or PDF file \r\n   https://support.sas.com/kb/51/626.html\r\n*/\r\n%macro spf_package_info / minoperator mindelimiter = ' ';\r\n    %local log_loc spf_package_list_dsn;\r\n\r\n    %let spf_package_info_option = %upcase(&spf_package_info_option);\r\n    %let spf_package_list_dsn    =;\r\n\r\n    %if (&spf_package_info_option = HELP    AND NOT %sysmacexist(helpPackage) ) OR\r\n        (&spf_package_info_option = PREVIEW AND NOT %sysmacexist(previewPackage) ) OR\r\n        (&spf_package_info_option = LIST    AND NOT %sysmacexist(listPackages) )\r\n    %then %do;\r\n        %put ERROR: You must initialize the SAS Packages Framework before running the Package Info step.;\r\n        %abort;\r\n    %end;\r\n\r\n    %if &spf_package_info_option IN (HELP PREVIEW) %then %do;\r\n\r\n        /* Remove versions if user added them */\r\n        data _null_;\r\n            package = prxchange(\"s/[({\\[\\]=].*//\", -1, strip(\"&spf_package\"));\r\n            call symputx('spf_package', package, 'L');\r\n            call symputx('n_packages', countw(package, ' ') );\r\n        run;\r\n\r\n        %if &n_packages = 0 %then %do;\r\n            %put ERROR: You must include a package to get help.;\r\n            %abort;\r\n        %end;\r\n\r\n        %else %if &n_packages > 1 %then %do;\r\n            %put ERROR: &n_packages packages were specified but expected 1. Specify only one package when using the One package option.;\r\n            %abort;\r\n        %end;\r\n        \r\n        /* Copy from WORK to SAS Content if SAS Content was specified during initialization */\r\n        %if %symexist(spf_package_path_is_sascontent) %then %do;\r\n            %if &spf_package_path_is_sascontent %then %do;\r\n\r\n                %put NOTE: Copying package %upcase(&spf_package) to WORK from sascontent:&spf_package_path_sascontent;\r\n                    \r\n                %relocatePackage(\r\n                    &spf_package, \r\n                    source=&spf_package_path_sascontent,\r\n                    sDevice=FILESRVC,\r\n                    checksum=1\r\n                );\r\n            %end;\r\n        %end;\r\n    %end;\r\n\r\n    /* Get original log location and save an spf_package_help.log file to WORK */\r\n    %let log_loc      = %superq(SYSPRINTTOLOG);\r\n    %let spf_info_log = %qsysfunc(pathname(work))/spf_package_help.log;\r\n    %let spf_info_output_type = %upcase(&spf_info_output_type);\r\n\r\n    %if &spf_info_output_type NE LOG %then %do;\r\n        proc printto log=\"&spf_info_log\" new; \r\n        run;\r\n    %end;\r\n\r\n    /* Either get help, preview, or list packages */\r\n    %if &spf_package_info_option = HELP  %then %do;\r\n        %helpPackage(&spf_package, &spf_info_keyword, packageContentDS=&spf_result_ds);\r\n    %end;\r\n\r\n    %else %if &spf_package_info_option = PREVIEW %then %do;\r\n        %previewPackage(&spf_package, &spf_info_keyword);\r\n    %end;\r\n\r\n    %else %do;\r\n        %if &spf_result_ds %then %let spf_package_list_dsn = spf_package_list;\r\n\r\n        %listPackages(&spf_package_list_dsn)\r\n    %end;\r\n\r\n    %if &spf_info_output_type NE LOG %then %do;\r\n\r\n        /* Reset log location */\r\n        %if &log_loc = %then %do;\r\n            proc printto; run;\r\n        %end;\r\n            %else %do;\r\n                proc printto file=\"&log_loc\"; run;\r\n            %end;\r\n\r\n        proc document name=spf_info(write);\r\n            import textfile=\"&spf_info_log\" to logfile;\r\n            replay;\r\n        quit;\r\n    %end;\r\n\r\n%mend;\r\n%spf_package_info;"}}
