{"creationTimeStamp":"2026-02-03T19:41:13.058506Z","createdBy":"Stu.Sztukowski@sas.com","modifiedTimeStamp":"2026-02-03T20:08:14.15084Z","modifiedBy":"Stu.Sztukowski@sas.com","id":"585aeafd-6107-432e-b42f-f86f31dc8b41","name":"Extract Code.step","displayName":"Extract Code.step","localDisplayName":"Extract Code.step","links":[{"method":"GET","rel":"self","href":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41","uri":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41","type":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"alternate","href":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41","uri":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41","type":"application/vnd.sas.data.flow.step.summary"},{"method":"GET","rel":"up","href":"/dataFlows/steps","uri":"/dataFlows/steps","type":"application/vnd.sas.collection","itemType":"application/vnd.sas.data.flow.step.summary"},{"method":"PUT","rel":"update","href":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41","uri":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41","type":"application/vnd.sas.data.flow.step","responseType":"application/vnd.sas.data.flow.step"},{"method":"DELETE","rel":"delete","href":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41","uri":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41"},{"method":"POST","rel":"copy","href":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41/copy","uri":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41/copy","responseType":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"transferExport","href":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41","uri":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41","responseType":"application/vnd.sas.transfer.object"},{"method":"PUT","rel":"transferImportUpdate","href":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41","uri":"/dataFlows/steps/585aeafd-6107-432e-b42f-f86f31dc8b41","type":"application/vnd.sas.transfer.object","responseType":"application/vnd.sas.summary"}],"metadataVersion":1,"version":2,"type":"code","flowMetadata":{},"ui":"{\n\t\"showPageContentOnly\": true,\n\t\"pages\": [\n\t\t{\n\t\t\t\"id\": \"folder\",\n\t\t\t\"label\": \"Main\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"text1\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"Select code to extract\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"checkbox1\",\n\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\"label\": \"Program\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"checkbox2\",\n\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\"label\": \"JSON\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"input_folder\",\n\t\t\t\t\t\"type\": \"path\",\n\t\t\t\t\t\"label\": \"Select an input folder of custom steps\",\n\t\t\t\t\t\"pathtype\": \"folder\",\n\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"output_folder\",\n\t\t\t\t\t\"type\": \"path\",\n\t\t\t\t\t\"label\": \"Select an output folder\",\n\t\t\t\t\t\"pathtype\": \"file\",\n\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"syntaxversion\": \"1.3.0\",\n\t\"values\": {\n\t\t\"checkbox1\": true,\n\t\t\"checkbox2\": false,\n\t\t\"input_folder\": \"\",\n\t\t\"output_folder\": \"\"\n\t},\n\t\"promptHierarchies\": []\n}","localUi":"{\"pages\":[{\"children\":[{\"id\":\"text1\",\"text\":\"Select code to extract\",\"type\":\"text\",\"visible\":\"\"},{\"id\":\"checkbox1\",\"label\":\"Program\",\"type\":\"checkbox\",\"visible\":\"\"},{\"id\":\"checkbox2\",\"label\":\"JSON\",\"type\":\"checkbox\",\"visible\":\"\"},{\"id\":\"input_folder\",\"label\":\"Select an input folder of custom steps\",\"pathtype\":\"folder\",\"placeholder\":\"\",\"required\":true,\"type\":\"path\",\"visible\":\"\"},{\"id\":\"output_folder\",\"label\":\"Select an output folder\",\"pathtype\":\"file\",\"placeholder\":\"\",\"required\":true,\"type\":\"path\",\"visible\":\"\"}],\"id\":\"folder\",\"label\":\"Main\",\"type\":\"page\"}],\"promptHierarchies\":[],\"showPageContentOnly\":true,\"syntaxversion\":\"1.3.0\",\"values\":{\"checkbox1\":true,\"checkbox2\":false,\"input_folder\":\"\",\"output_folder\":\"\"}}","templates":{"SAS":"%let input_folder_fqp = sascontent:/Users/Stu.Sztukowski@sas.com/My Folder/SPF;\r\n\r\n%let input_folder_is_sascontent = %sysevalf(%qscan(%qupcase(&input_folder_fqp), 1, /) = SASCONTENT:, boolean);\r\n%let input_folder_fqp           = %qsubstr(&input_folder_fqp, %index(&input_folder_fqp, /));\r\n\r\n%if &input_folder_is_sascontent %then %do;\r\n    filename _steps_ filesrvc\r\n        folderpath=%sysfunc(quote(&input_folder_fqp))\r\n    ;\r\n\r\n    %let workdir = %sysfunc(pathname(work));\r\n%end;\r\n    %else %do;\r\n        filename _steps_ %sysfunc(quote(&input_folder_fqp));\r\n    %end;\r\n\r\ndata a;\r\n    length step $500 step_list $32767;\r\n    did = dopen('_steps_');\r\n    \r\n    do i = 1 to dnum(did);\r\n        step = dread(did,i);\r\n        if upcase(scan(dread(did,i), -1, '.')) = 'STEP' then do;\r\n            if &input_folder_is_sascontent then do;\r\n                fid = filename(\r\n                    '_sfile_',\r\n                    '',\r\n                    'filesrvc', \r\n                    cat(\"folderpath=\", %sysfunc(quote(&input_folder_fqp)), \"filename=\", quote(strip(step)))\r\n                );\r\n                \r\n                rc = fcopy('_sfile_', 'workdir');\r\n            end;\r\n\r\n            step_list = catx(',', step_list, quote(strip(step)));\r\n            output;\r\n        end;\r\n    end;\r\n\r\n    did = dclose(did);\r\n\r\n    call symputx('step_list', step_list);\r\n\r\n    keep step rc;\r\nrun;\r\n\r\n"}}
