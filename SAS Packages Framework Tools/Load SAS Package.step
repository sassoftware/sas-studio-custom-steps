{"creationTimeStamp":"2025-12-11T21:03:57.533711Z","createdBy":"Stu.Sztukowski@sas.com","modifiedTimeStamp":"2025-12-12T20:58:11.913283Z","modifiedBy":"Stu.Sztukowski@sas.com","name":"Load SAS Package.step","displayName":"Load SAS Package.step","localDisplayName":"Load SAS Package.step","links":[{"method":"GET","rel":"self","href":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65","uri":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65","type":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"alternate","href":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65","uri":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65","type":"application/vnd.sas.data.flow.step.summary"},{"method":"GET","rel":"up","href":"/dataFlows/steps","uri":"/dataFlows/steps","type":"application/vnd.sas.collection","itemType":"application/vnd.sas.data.flow.step.summary"},{"method":"PUT","rel":"update","href":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65","uri":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65","type":"application/vnd.sas.data.flow.step","responseType":"application/vnd.sas.data.flow.step"},{"method":"DELETE","rel":"delete","href":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65","uri":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65"},{"method":"POST","rel":"copy","href":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65/copy","uri":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65/copy","responseType":"application/vnd.sas.data.flow.step"},{"method":"GET","rel":"transferExport","href":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65","uri":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65","responseType":"application/vnd.sas.transfer.object"},{"method":"PUT","rel":"transferImportUpdate","href":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65","uri":"/dataFlows/steps/fcf97ee7-4640-4cc4-83fb-430b3cf82a65","type":"application/vnd.sas.transfer.object","responseType":"application/vnd.sas.summary"}],"metadataVersion":1,"version":2,"type":"code","flowMetadata":{"inputPorts":[{"name":"outputtable1","displayName":"outputtable1","localDisplayName":"outputtable1","minEntries":0,"maxEntries":1,"defaultEntries":0,"type":"table"}],"outputPorts":[{"name":"inputtable1","displayName":"inputtable1","localDisplayName":"inputtable1","minEntries":0,"maxEntries":1,"defaultEntries":0,"type":"table"}]},"ui":"{\n\t\"showPageContentOnly\": true,\n\t\"pages\": [\n\t\t{\n\t\t\t\"id\": \"page1\",\n\t\t\t\"type\": \"page\",\n\t\t\t\"label\": \"Main\",\n\t\t\t\"children\": [\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"text1\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"Load one or more SAS Packages from the SAS Package Framework. The SAS Packages Framework must be initialized before running this step.\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"text4\",\n\t\t\t\t\t\"type\": \"text\",\n\t\t\t\t\t\"text\": \"NOTE: If packages are stored in SAS Content, they will be copied to WORK before loading.\",\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"spf_load_debug\",\n\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\"label\": \"Debug (change dependency to view or hide)\",\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t1,\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t0\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"spf_package_option\",\n\t\t\t\t\t\"type\": \"radiogroup\",\n\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\"items\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"value\": \"One package\"\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"value\": \"Multiple packages\"\n\t\t\t\t\t\t}\n\t\t\t\t\t],\n\t\t\t\t\t\"visible\": \"\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"spf_package\",\n\t\t\t\t\t\"type\": \"textfield\",\n\t\t\t\t\t\"label\": \"\",\n\t\t\t\t\t\"placeholder\": \"Enter package name\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$spf_package_option\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"One package\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"section1\",\n\t\t\t\t\t\"type\": \"section\",\n\t\t\t\t\t\"label\": \"Advanced options\",\n\t\t\t\t\t\"open\": false,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$spf_package_option\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"One package\"\n\t\t\t\t\t],\n\t\t\t\t\t\"enabled\": [\n\t\t\t\t\t\t\"$spf_package_option\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"One package\"\n\t\t\t\t\t],\n\t\t\t\t\t\"children\": [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"spf_load_additional\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Load additional content\",\n\t\t\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\t\t\"indent\": 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"spf_load_lazy_data\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Load lazy data\",\n\t\t\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\t\t\"indent\": 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"spf_lazy_data_list\",\n\t\t\t\t\t\t\t\"type\": \"textarea\",\n\t\t\t\t\t\t\t\"label\": \"Lazy data list (space or carriage-return separated)\",\n\t\t\t\t\t\t\t\"placeholder\": \"Enter one or more lazy datasets, or enter * to load all.\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"visible\": \"$spf_load_lazy_data\",\n\t\t\t\t\t\t\t\"indent\": 2\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"spf_load_package_elements\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Load specific package elements\",\n\t\t\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\t\t\"indent\": 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"spf_package_elements_list\",\n\t\t\t\t\t\t\t\"type\": \"textarea\",\n\t\t\t\t\t\t\t\"label\": \"Package element list (space or carriage-return separated)\",\n\t\t\t\t\t\t\t\"placeholder\": \"Enter one or more package elements, or enter * to include all.\",\n\t\t\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\t\t\"visible\": \"$spf_load_package_elements\",\n\t\t\t\t\t\t\t\"indent\": 2\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"spf_ds2_force\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Overwrite SAS datasets with DS2 packages or threads\",\n\t\t\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\t\t\"indent\": 1\n\t\t\t\t\t\t},\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\"id\": \"spf_suppress_exec\",\n\t\t\t\t\t\t\t\"type\": \"checkbox\",\n\t\t\t\t\t\t\t\"label\": \"Do not load \\\"exec\\\" type files\",\n\t\t\t\t\t\t\t\"visible\": \"\",\n\t\t\t\t\t\t\t\"indent\": 1\n\t\t\t\t\t\t}\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"spf_package_list\",\n\t\t\t\t\t\"type\": \"textarea\",\n\t\t\t\t\t\"label\": \"Package list (space or carriage-return separated)\",\n\t\t\t\t\t\"placeholder\": \"Enter one or more packages\",\n\t\t\t\t\t\"required\": true,\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t\"$spf_package_option\",\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t\"Multiple packages\"\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"inputtable1\",\n\t\t\t\t\t\"type\": \"outputtable\",\n\t\t\t\t\t\"label\": \"Used only to add an input port for connecting nodes\",\n\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t1,\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t0\n\t\t\t\t\t]\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t\"id\": \"outputtable1\",\n\t\t\t\t\t\"type\": \"inputtable\",\n\t\t\t\t\t\"label\": \"Used only to add an output port for connecting nodes\",\n\t\t\t\t\t\"required\": false,\n\t\t\t\t\t\"placeholder\": \"\",\n\t\t\t\t\t\"visible\": [\n\t\t\t\t\t\t1,\n\t\t\t\t\t\t\"=\",\n\t\t\t\t\t\t0\n\t\t\t\t\t],\n\t\t\t\t\t\"filter\": false\n\t\t\t\t}\n\t\t\t]\n\t\t}\n\t],\n\t\"syntaxversion\": \"1.3.0\",\n\t\"values\": {\n\t\t\"spf_load_debug\": false,\n\t\t\"spf_package_option\": {\n\t\t\t\"value\": \"One package\"\n\t\t},\n\t\t\"spf_package\": \"\",\n\t\t\"spf_load_additional\": false,\n\t\t\"spf_load_lazy_data\": false,\n\t\t\"spf_lazy_data_list\": \"\",\n\t\t\"spf_load_package_elements\": false,\n\t\t\"spf_package_elements_list\": \"\",\n\t\t\"spf_ds2_force\": false,\n\t\t\"spf_suppress_exec\": false,\n\t\t\"spf_package_list\": \"\",\n\t\t\"inputtable1\": {\n\t\t\t\"library\": \"\",\n\t\t\t\"table\": \"\"\n\t\t},\n\t\t\"outputtable1\": {\n\t\t\t\"library\": \"\",\n\t\t\t\"table\": \"\"\n\t\t}\n\t},\n\t\"promptHierarchies\": []\n}","localUi":"{\"pages\":[{\"children\":[{\"id\":\"text1\",\"text\":\"Load one or more SAS Packages from the SAS Package Framework. The SAS Packages Framework must be initialized before running this step.\",\"type\":\"text\",\"visible\":\"\"},{\"id\":\"text4\",\"text\":\"NOTE: If packages are stored in SAS Content, they will be copied to WORK before loading.\",\"type\":\"text\",\"visible\":\"\"},{\"id\":\"spf_load_debug\",\"label\":\"Debug (change dependency to view or hide)\",\"type\":\"checkbox\",\"visible\":[1,\"=\",0]},{\"id\":\"spf_package_option\",\"items\":[{\"value\":\"One package\"},{\"value\":\"Multiple packages\"}],\"label\":\"\",\"type\":\"radiogroup\",\"visible\":\"\"},{\"id\":\"spf_package\",\"label\":\"\",\"placeholder\":\"Enter package name\",\"required\":true,\"type\":\"textfield\",\"visible\":[\"$spf_package_option\",\"=\",\"One package\"]},{\"children\":[{\"id\":\"spf_load_additional\",\"indent\":1,\"label\":\"Load additional content\",\"type\":\"checkbox\",\"visible\":\"\"},{\"id\":\"spf_load_lazy_data\",\"indent\":1,\"label\":\"Load lazy data\",\"type\":\"checkbox\",\"visible\":\"\"},{\"id\":\"spf_lazy_data_list\",\"indent\":2,\"label\":\"Lazy data list (space or carriage-return separated)\",\"placeholder\":\"Enter one or more lazy datasets, or enter * to load all.\",\"required\":true,\"type\":\"textarea\",\"visible\":\"$spf_load_lazy_data\"},{\"id\":\"spf_load_package_elements\",\"indent\":1,\"label\":\"Load specific package elements\",\"type\":\"checkbox\",\"visible\":\"\"},{\"id\":\"spf_package_elements_list\",\"indent\":2,\"label\":\"Package element list (space or carriage-return separated)\",\"placeholder\":\"Enter one or more package elements, or enter * to include all.\",\"required\":true,\"type\":\"textarea\",\"visible\":\"$spf_load_package_elements\"},{\"id\":\"spf_ds2_force\",\"indent\":1,\"label\":\"Overwrite SAS datasets with DS2 packages or threads\",\"type\":\"checkbox\",\"visible\":\"\"},{\"id\":\"spf_suppress_exec\",\"indent\":1,\"label\":\"Do not load \\\"exec\\\" type files\",\"type\":\"checkbox\",\"visible\":\"\"}],\"enabled\":[\"$spf_package_option\",\"=\",\"One package\"],\"id\":\"section1\",\"label\":\"Advanced options\",\"open\":false,\"type\":\"section\",\"visible\":[\"$spf_package_option\",\"=\",\"One package\"]},{\"id\":\"spf_package_list\",\"label\":\"Package list (space or carriage-return separated)\",\"placeholder\":\"Enter one or more packages\",\"required\":true,\"type\":\"textarea\",\"visible\":[\"$spf_package_option\",\"=\",\"Multiple packages\"]},{\"id\":\"inputtable1\",\"label\":\"Used only to add an input port for connecting nodes\",\"placeholder\":\"\",\"required\":false,\"type\":\"outputtable\",\"visible\":[1,\"=\",0]},{\"filter\":false,\"id\":\"outputtable1\",\"label\":\"Used only to add an output port for connecting nodes\",\"placeholder\":\"\",\"required\":false,\"type\":\"inputtable\",\"visible\":[1,\"=\",0]}],\"id\":\"page1\",\"label\":\"Main\",\"type\":\"page\"}],\"promptHierarchies\":[],\"showPageContentOnly\":true,\"syntaxversion\":\"1.3.0\",\"values\":{\"inputtable1\":{\"library\":\"\",\"table\":\"\"},\"outputtable1\":{\"library\":\"\",\"table\":\"\"},\"spf_ds2_force\":false,\"spf_lazy_data_list\":\"\",\"spf_load_additional\":false,\"spf_load_debug\":false,\"spf_load_lazy_data\":false,\"spf_load_package_elements\":false,\"spf_package\":\"\",\"spf_package_elements_list\":\"\",\"spf_package_list\":\"\",\"spf_package_option\":{\"value\":\"One package\"},\"spf_suppress_exec\":false}}","templates":{"SAS":"%if(&spf_load_debug) %then %do;\r\n    %let spf_load_orig_symbolgen = %sysfunc(getoption(symbolgen));\r\n    %let spf_load_orig_mlogic = %sysfunc(getoption(mlogic));\r\n    %let spf_load_orig_mprint = %sysfunc(getoption(mprint));\r\n    %let spf_load_orig_mlogicnest = %sysfunc(getoption(mlogicnest));\r\n    %let spf_load_orig_mprintnest = %sysfunc(getoption(mprintnest));\r\n    options symbolgen mlogic mprint mlogicnest mprintnest;\r\n%end;\r\n\r\n%macro spf_load_step;\r\n        \r\n    /* Load one package */\r\n    %if(%upcase(&spf_package_option) = ONE PACKAGE) %then %do;\r\n\r\n        /* The default value of lazyData in loadPackage is missing, so reset the lazy data list to be missing \r\n           if the user does not enable load_lazy_data */\r\n        %if(NOT &spf_load_lazy_data) %then %let spf_lazy_data_list =%str();\r\n\r\n        /* The default value of cherryPick in loadPackage is *, so reset the package element list to be * \r\n           if the user does not enable cherryPick */\r\n        %if(NOT &spf_load_package_elements) %then %let spf_package_elements_list = *;\r\n\r\n        %let spf_lazy_data_list        = %sysfunc(translate(%superq(spf_lazy_data_list),' ','0D0A'x));\r\n        %let spf_package_elements_list = %sysfunc(translate(%superq(spf_package_elements_list),' ','0D0A'x));\r\n\r\n        %loadPackage(\r\n            &spf_package,\r\n            lazyData     = &spf_lazy_data_list,\r\n            cherryPick   = &spf_package_elements_list,\r\n            DS2Force     = &spf_ds2_force,\r\n            suppressExec = &spf_suppress_exec\r\n        );\r\n    %end;\r\n\r\n        /* Load multiple packages (must be comma-separated) */\r\n        %else %do;\r\n            %loadPackages(%sysfunc(translate(%superq(spf_package_list), ',', '0D0A'x)));\r\n        %end;\r\n%mend;\r\n%spf_load_step;\r\n\r\n%if(&spf_load_debug) %then %do;\r\n    options &spf_load_orig_symbolgen \r\n            &spf_load_orig_mlogic \r\n            &spf_load_orig_mlogicnest \r\n            &spf_load_orig_mprint \r\n            &spf_load_orig_mprintnest\r\n    ;\r\n%end;"},"eTag":"W/\"1765573091913283000\""}