{
	"showPageContentOnly": true,
	"pages": [
		{
			"id": "params",
			"type": "page",
			"label": "Parameters",
			"children": [
				{
					"id": "section_input_params",
					"type": "section",
					"label": "Input Parameters",
					"open": true,
					"children": [
						{
							"id": "input_option",
							"type": "radiogroup",
							"label": "Select your input type:",
							"items": [
								{
									"value": "single",
									"label": "Single parquet file"
								},
								{
									"value": "multiple",
									"label": "Multiple parquet files in a folder"
								}
							],
							"visible": ""
						},
						{
							"id": "parquet_file_path",
							"type": "path",
							"label": "Enter path to parquet file (should be located on the SAS server):",
							"pathtype": "file",
							"placeholder": "",
							"required": false,
							"visible": [
								"$input_option",
								"=",
								"single"
							],
							"enabled": [
								"$input_option",
								"=",
								"single"
							]
						},
						{
							"id": "parquet_path",
							"type": "path",
							"label": "Enter path to folder containing parquet files (should be located on the SAS server):",
							"pathtype": "folder",
							"placeholder": "",
							"required": false,
							"visible": [
								"$input_option",
								"=",
								"multiple"
							],
							"enabled": [
								"$input_option",
								"=",
								"multiple"
							]
						},
						{
							"id": "function_name",
							"type": "list",
							"label": "Select required aggregation functions:",
							"items": [
								{
									"value": "AVG"
								},
								{
									"value": "COUNT"
								},
								{
									"value": "MEDIAN"
								},
								{
									"value": "MODE"
								},
								{
									"value": "MIN"
								},
								{
									"value": "MAX"
								},
								{
									"value": "MAD"
								},
								{
									"value": "SUM"
								},
								{
									"value": "STDDEV"
								},
								{
									"value": "STDDEV_POP"
								},
								{
									"value": "VAR_SAMP"
								},
								{
									"value": "VAR_POP"
								}
							],
							"max": null,
							"min": null,
							"visible": ""
						},
						{
							"id": "agg_columns",
							"type": "textfield",
							"label": "List columns to aggregate (space separated):",
							"placeholder": "example_col1 example_col2",
							"required": true
						},
						{
							"id": "group_by_columns",
							"type": "textfield",
							"label": "List Group-by columns (optional, space separated):",
							"placeholder": "example_groupby_col",
							"required": false
						},
						{
							"id": "where_clause",
							"type": "textfield",
							"label": "Add a WHERE clause to filter the parquet file (while permitted, avoid using the WHERE keyword):",
							"placeholder": "AGE > 30 AND INCOME < 50000",
							"required": false
						},
						{
							"id": "output_table",
							"type": "outputtable",
							"label": "Output table (preferably a data set backed by a DuckDB libname)",
							"required": true,
							"placeholder": "",
							"visible": ""
						}
					]
				}
			]
		},
		{
			"id": "about",
			"type": "page",
			"label": "About",
			"children": [
				{
					"id": "section_about_intro",
					"type": "section",
					"label": "DuckDB - Aggregate Parquets",
					"open": true,
					"visible": "",
					"children": [
						{
							"id": "section_about_intro_text",
							"type": "text",
							"text": "This custom step dynamically builds a DuckDB SQL aggregation query on parquet file formats and pushes it down to DuckDB through a connection to the SAS/ACCESS Interface to DuckDB.\n\nOpen file formats such as Parquet are popular due to the benefits they offer in reduced data footprint and columnar structure.  Also, DuckDB has gained popularity as a performant query processing engine which reduces data movement.  Presently, the benefits of DuckDB are better realised if the query is pushed down through explicit passthrough.  This custom step helps users conveniently run multiple aggregation queries without having to explicitly write SQL in the DuckDB dialect.",
							"visible": ""
						},
						{
							"id": "section_about_parameters",
							"type": "section",
							"label": "Parameters",
							"open": false,
							"visible": "",
							"children": [
								{
									"id": "section_about_parameters_input",
									"type": "section",
									"label": "Input Parameters",
									"open": false,
									"children": [
										{
											"id": "section_about_parameters_input_text",
											"type": "text",
											"text": "1. Path to parquet file(file selector, required): select only files on the SAS server (i.e. the filesystem)\n2. Select Aggregation functions (list, required): select one or more functions to aggregate by.  This list shall expand in future.\n3. List columns to aggregate (text field, required): list your columns in a space-separated format.  This step does not provide a column selector as it queries directly from parquet.\n4. List Group-by columns (text field, optional): list any columns in space-separated formatwhich you like to group your aggregations by.\n5. WHERE clause (text field, optional): provide a WHERE clause to filter the parquet data before aggregation.  Note that the WHERE keyword is added automatically and if provided, will be used as is.\n",
											"visible": ""
										}
									]
								},
								{
									"id": "section_about_parameters_output",
									"type": "section",
									"label": "Output specification",
									"open": true,
									"visible": "",
									"children": [
										{
											"id": "section_about_parameters_output_text",
											"type": "text",
											"text": "-Output table (output port, required): select an output table.  Choose based on your use case, but it's preferred that this belongs to a DuckDB libname. ",
											"visible": ""
										}
									]
								},
								{
									"id": "section_about_parameters_future",
									"type": "section",
									"label": "Future enhancements planned",
									"open": false,
									"visible": "",
									"children": [
										{
											"id": "section_about_parameters_future_text",
											"type": "text",
											"text": "There are pros and cons to any approach.  Keeping the scope of this step in mind, and since it 'generates' DuckDB SQL dialect for explicit passthrough on the fly, we may not be able to cover all syntactic and functional patterns. Some known items slated to be addressed in a future version are:\n\n1. Support for column names with spaces in them (note that version 1.2.5 onwards makes significant progress by handling hyphens in column names and also preventing hyphens from getting considered as operators)\n2. Aggregation functions with multiple parameters\n\nThis custom step does **not** have the ambition to evolve into a full-fledged translator to DuckDB SQL (though it will be nice if it can).",
											"visible": ""
										}
									]
								}
							]
						},
						{
							"id": "section_about_version",
							"type": "section",
							"label": "About this step",
							"open": true,
							"children": [
								{
									"id": "version_text",
									"type": "text",
									"text": "Version: 1.3.0 (03FEB2026)\nContact: Sundaresh Sankaran (Sundaresh.sankaran@sas.com)"
								}
							]
						}
					]
				}
			]
		}
	],
	"syntaxversion": "1.3.0",
	"values": {
		"input_option": {
			"value": "single",
			"label": "Single parquet file"
		},
		"parquet_file_path": "",
		"parquet_path": "",
		"function_name": [],
		"output_table": {
			"library": "",
			"table": ""
		}
	}
}